<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-datatable-api/paper-datatable-api.html">
<link rel="import" href="../bower_components/paper-datatable-api/paper-datatable-api-column.html">
<link rel="import" href="shared-styles.html">

<dom-module id="my-countries">
    <template>

        <style include="shared-styles">
            :host {
                display: block;
                padding: 10px;
            }
        </style>

       <iron-ajax 
            auto
            url= "https://restcountries.eu/rest/v2/all"
            headers='{"Accept": "application/json;charset=utf-8"}'
            last-response="data"
            id="countryList" >
        </iron-ajax>

        <div class="card">
            <h1>Countries</h1>
            <paper-datatable-api data="[[data]]">
                <paper-datatable-api-column header="Name" property="name"></paper-datatable-api-column>
            </paper-datatable-api>
        </div>
       
    </template>

    
    <script>
        Polymer({
            
            is: 'my-countries',

            properties: {
                data: String,
                countryList: Array,
                url: {
                    type: String,
                    value: "https://restcountries.eu/rest/v2/all",
                    readOnly: true 
                },
                dataSource: function() {

                }
            },

            displayCountries(r) {
                this.response = r.detail.response; 
            }            
        });
    </script>
</dom-module>
